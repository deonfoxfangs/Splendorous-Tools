<?xml version="1.0" encoding="utf-8"?>
<!--
Author: Deon
Required: LLamaLibrary BotBase
		  Lisbeth BotBase
		  Exbuddy Plugin
          ALL currently obtained Splendorous weapons in inventory or Armory.
-->
<!DOCTYPE Profile [
    <!ENTITY job "Carpenter">
    <!ENTITY splendorousTool "38715">
    <!ENTITY augmentedTool "38726">
    <!ENTITY augmentedComponent "38772">
    <!ENTITY augmentedMaterial "38756">
    <!ENTITY crystallineTool "38737">
    <!ENTITY crystallineComponent "38780">
    <!ENTITY crystallineMaterial "38764">
    <!ENTITY choraZoiTool "39732">
    <!ENTITY choraZoiComponent "39789">
    <!ENTITY choraZoiMaterial "39773">
    <!ENTITY brilliantTool "39743">
    <!ENTITY brilliantComponent "39797">
    <!ENTITY brilliantMaterial "39781">
    <!ENTITY vrandticTool "41180">
    <!ENTITY vrandticComponent "41270">
    <!ENTITY vrandticMaterial "41254">
    <!ENTITY lodestarTool "41191">
    <!ENTITY lodestarComponent "41278">
    <!ENTITY lodestarMaterial "41262">
]>
<Profile>
    <Name>Resplendent CRP Tool</Name>
    <Order>
        <TurnInSplendorous />
        <!-- Brilliant Tool (Step 5) -->
        <While condition="not HasItem(&brilliantTool;) and HasItem(&choraZoiTool;) and not NqHasAtLeast(&brilliantComponent;,90)">
            <Log Message="Crafting for Brilliant &job;'s Components." />
            <SplendorousOrder ItemToCraft="&brilliantMaterial;" Total="90" RewardItemId="&brilliantComponent;" Job="&job;" />
            <TurnInSplendorous />
        </While>
        <If Condition="NqHasAtLeast(&brilliantComponent;,90)">
            <ChangeClass Job="&job;" />
            <LLoadProfile Path="../Quests/A Tool without Compare.xml" />
        </If>
        <!-- Chora-Zoi's Crystalline Tool (Step 4) -->
        <!-- Check The Joy of Zoi Quest Completion -->
        <If Condition="not IsQuestCompleted(70303) and HasItem(&crystallineTool;)">
            <LLoadProfile Path="../Quests/The Joy of Zoi.xml" />
        </If>
        <While condition="not HasItem(&choraZoiTool;) and HasItem(&crystallineTool;) and not NqHasAtLeast(&choraZoiComponent;,90)">
            <Log Message="Crafting for Customized &job;'s Components." />
            <SplendorousOrder ItemToCraft="&choraZoiMaterial;" Total="90" RewardItemId="&choraZoiComponent;" Job="&job;" />
            <TurnInSplendorous />
        </While>
        <If Condition="NqHasAtLeast(&choraZoiComponent;,90)">
            <ChangeClass Job="&job;" />
            <LLoadProfile Path="../Quests/A Tool of Her Own.xml" />
        </If>
        <!-- Crystalline Tool (Step 3) -->
        <While condition="not HasItem(&crystallineTool;) and HasItem(&augmentedTool;) and not NqHasAtLeast(&crystallineComponent;,90)">
            <Log Message="Crafting for Adaptive &job;'s Components." />
            <SplendorousOrder ItemToCraft="&crystallineMaterial;" Total="90" RewardItemId="&crystallineComponent;" Job="&job;" />
            <TurnInSplendorous />
        </While>
        <If Condition="NqHasAtLeast(&crystallineComponent;,90)">
            <ChangeClass Job="&job;" />
            <LLoadProfile Path="../Quests/An Adaptive Tool.xml" />
        </If>
        <!-- Augmented Splendorous Tool (Step 2) -->
        <While Condition="not HasItem(&augmentedTool;) and HasItem(&splendorousTool;) and not NqHasAtLeast(&augmentedComponent;,60)">
            <Log Message="Crafting for Splendorous &job;'s Components." />
            <SplendorousOrder ItemToCraft="&augmentedMaterial;" Total="60" RewardItemId="&augmentedComponent;" Job="&job;" />
            <TurnInSplendorous />
        </While>
        <If Condition="NqHasAtLeast(&augmentedComponent;,60)">
            <ChangeClass Job="&job;" />
            <LLoadProfile Path="../Quests/A Dedicated Tool.xml" />
        </If>
        <!-- Splendorous Tool (Step 1) -->
        <If Condition="not IsQuestCompleted(70266) and not HasItem(&splendorousTool;) and Core.Me.Levels[ClassJobType.&job;] &gt; 89">
            <Log Message="Doing initial quest on &job;." />
            <ChangeClass Job="&job;" />
            <AutoInventoryEquip />
            <LLoadProfile Path="../Quests/An Original Improvement.xml" />
        </If>
        <If Condition="IsQuestCompleted(70266) and not HasItem(&splendorousTool;) and Core.Me.Levels[ClassJobType.&job;] &gt; 89">
            <Log Message="Buying &job; tool with scrips." />
            <Lisbeth Json="[{'Group':1,'Item':&splendorousTool;,'Amount':1,'Enabled':true,'Type':'Exchange' }]" />
        </If>
        <LLoadProfile Path="../Splendorous Start.xml" />
    </Order>
</Profile>